// ============================================
// ARABIC STOPWORDS LIST
// Comprehensive list based on mohataher/arabic-stop-words
// Used to filter common words from embeddings
// ============================================

export const ARABIC_STOPWORDS = new Set([
  // حروف الجر والعطف
  'في', 'من', 'إلى', 'على', 'عن', 'مع', 'بعد', 'قبل', 'عند', 'ضد',
  'حول', 'خلال', 'دون', 'حتى', 'منذ', 'لدى', 'نحو', 'إلا', 'غير',
  'سوى', 'ما', 'لا', 'إن', 'أن', 'كأن', 'لكن', 'لكن', 'بل', 'أو',
  'أم', 'إما', 'لو', 'لولا', 'لوما', 'كلما', 'إذا', 'إذ', 'لما',
  
  // الضمائر
  'هو', 'هي', 'هم', 'هن', 'هما', 'أنا', 'نحن', 'أنت', 'أنتم', 'أنتن',
  'أنتما', 'إياه', 'إياها', 'إياهم', 'إياهن', 'إياك', 'إياكم', 'إياكن',
  'إياي', 'إيانا', 'هذا', 'هذه', 'هؤلاء', 'ذلك', 'تلك', 'أولئك',
  
  // أدوات الاستفهام
  'ما', 'من', 'متى', 'أين', 'كيف', 'لماذا', 'هل', 'أي', 'كم', 'ماذا',
  
  // الأفعال الشائعة
  'كان', 'كانت', 'كانوا', 'كن', 'يكون', 'تكون', 'يكونوا', 'أكون',
  'نكون', 'صار', 'أصبح', 'أضحى', 'أمسى', 'ظل', 'بات', 'ليس',
  'ليست', 'ليسوا', 'لست', 'لسنا', 'قد', 'لقد', 'قال', 'يقول',
  
  // أسماء الإشارة والموصول
  'الذي', 'التي', 'اللذان', 'اللتان', 'الذين', 'اللاتي', 'اللواتي',
  'من', 'ما', 'أي',
  
  // الظروف
  'اليوم', 'أمس', 'غدا', 'الآن', 'حين', 'بينما', 'عندما', 'حيث',
  'هنا', 'هناك', 'هنالك', 'ثم', 'حينئذ', 'فوق', 'تحت', 'أمام',
  'خلف', 'يمين', 'يسار', 'وسط', 'بين', 'داخل', 'خارج',
  
  // أدوات النفي والتوكيد
  'لا', 'لم', 'لن', 'ما', 'ليس', 'ليست', 'ليسوا', 'لست', 'لسنا',
  'إن', 'أن', 'لكن', 'بل', 'نعم', 'بلى', 'كلا',
  
  // كلمات شائعة أخرى
  'كل', 'بعض', 'جميع', 'معظم', 'أكثر', 'أقل', 'غير', 'سوى', 'فقط',
  'أيضا', 'أيضاً', 'كذلك', 'هكذا', 'مثل', 'نفس', 'ذات', 'عبر',
  'لدى', 'لديه', 'لديها', 'لديهم', 'عليه', 'عليها', 'عليهم',
  'له', 'لها', 'لهم', 'لهن', 'به', 'بها', 'بهم', 'منه', 'منها',
  'منهم', 'فيه', 'فيها', 'فيهم', 'إليه', 'إليها', 'إليهم',
  
  // أرقام عربية
  'واحد', 'اثنان', 'ثلاثة', 'أربعة', 'خمسة', 'ستة', 'سبعة', 'ثمانية',
  'تسعة', 'عشرة', 'أول', 'ثان', 'ثاني', 'ثالث', 'رابع', 'خامس',
  
  // كلمات تعليمية شائعة (قد تسبب false positives)
  'الفصل', 'الباب', 'المبحث', 'المطلب', 'الفرع', 'أولا', 'ثانيا',
  'ثالثا', 'رابعا', 'أولاً', 'ثانياً', 'ثالثاً', 'رابعاً',
  'المقدمة', 'الخاتمة', 'الخلاصة', 'النتيجة', 'المراجع', 'المصادر',
  'الصفحة', 'ص', 'صفحة',
  
  // كلمات ربط إضافية
  'حيث', 'بحيث', 'إذ', 'إذا', 'كلما', 'لما', 'عندما', 'بينما',
  'لأن', 'لان', 'كي', 'لكي', 'حتى', 'لعل', 'ليت', 'كأن',
  
  // ضمائر متصلة (كجزء من الكلمات)
  'ني', 'نا', 'كم', 'كن', 'هم', 'هن', 'ها', 'هما',
  
  // كلمات قصيرة جداً (حرف-حرفين)
  'و', 'أو', 'ف', 'ل', 'ب', 'ك', 'ال', 'لل', 'فى', 'ان',
  
  // كلمات تقنية شائعة قد تسبب noise
  'انظر', 'راجع', 'شكل', 'جدول', 'رقم', 'العدد', 'المجلد',
  'الطبعة', 'الناشر', 'السنة', 'التاريخ', 'الموقع', 'الرابط',
]);

/**
 * Check if a word is a stopword
 */
export function isStopword(word: string): boolean {
  return ARABIC_STOPWORDS.has(word.toLowerCase());
}

/**
 * Filter stopwords from an array of words
 */
export function filterStopwords(words: string[]): string[] {
  return words.filter(word => !isStopword(word));
}
